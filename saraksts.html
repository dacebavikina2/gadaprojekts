<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>FB Saraksts</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
</head>

<body>
    <div class="container">
        <h2>Facebook lietotāji</h2>
        <p>Šeit var atrast visas atsauksmes</p>  
        <input class="form-control" id="myInput" type="text" placeholder="Search..">
        <br>
        <table class="table table-bordered table-striped" id="dataTable">
          <thead>
            <tr id="headerRow"></tr>
          </thead>
          <tbody id="dataRows"></tbody>
        </table>
      
        <script>
          fetch('atsauksmes.json')
            .then(response => response.json())
            .then(data => {
              const table = document.getElementById('dataTable');
              const headerRow = document.getElementById('headerRow');
              const dataRows = document.getElementById('dataRows');
      
              // Generate table headers
              data.headers.forEach(header => {
                const th = document.createElement('th');
                th.textContent = header;
                headerRow.appendChild(th);
              });
      
              // Generate table rows
              data.rows.forEach(rowData => {
                const row = document.createElement('tr');
                rowData.forEach(cellData => {
                  const td = document.createElement('td');
                  td.textContent = cellData;
                  row.appendChild(td);
                });
                dataRows.appendChild(row);
              });
            })
            .catch(error => {
              console.error('Error:', error);
            });
        </script>
      </div>
      
      <script>
      $(document).ready(function(){
        $("#myInput").on("keyup", function() {
          var value = $(this).val().toLowerCase();
          $("#myTable tr").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
          });
        });
      });
      </script>
      
</body>
</html>